---
layout: post
theme:
  name: twitter
title: （读书笔记）pushd/popd命令
date: 2010-05-14
category: linux
---

买了一本《linux操作系统之奥秘》，话说本人对海峡那边的书一向是抱有一定的认可的~    
出于好奇，先翻看了第七章“系统性能”——也是最短的一章。其中提到CPU节能与性能的关联、管理和观察（这段拗口否~）    
于是也上自己测试机去看cpufreq。结果发现/proc下没有相关路径，也就是说没用节能，然后又去找cpuspeed，在/etc/init.d/下找到了cpuspeed的启动脚本。不过启用是才发现有些模块在内核中没有编译，即使用modprobe也加载不上……    
于是在init.d下瞎逛，看看系统shell脚本，算是学习吧~    
还真看到一个新奇玩意儿了：pushd/popd命令。    
在shell里操作的时候，经常在不同路径之间切换，最经常的办法：cd -；最简单的办法：上下键翻history；最安全的办法：啥都用全路径。    
而pushd命令，则是创建一个堆栈，专门用来存储路径位置的。使用很简单，    
pushd 路径1    
就自动到了“路径1”下，同时把“路径1”从左向右压入堆栈；    
等压完一堆以后，如何切换路径呢？    
堆栈从左到右（或者说成从下向上？）分别是num 0，1，2……    
要切换到第几个路径，pushd +n即可——注意此时pushd自动把该路径变成last了。    
然后还有popd命令，从堆栈中弹出路径，这个命令可以不接options，默认从last弹出（堆栈的LIFO原则）；也可以和pushd一样用+n的方式指定弹出哪个；比较搞怪的是，如果在popd后面随便跟一个路径，不管这个路径是不是堆栈中存在的，popd都会从右边把first路径弹出……汗~~    
